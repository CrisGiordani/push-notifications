{"ast":null,"code":"var _jsxFileName = \"/Users/cristian/Dev/Claro/push-client/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  useEffect(() => {\n    if ('serviceWorker' in navigator) {\n      navigator.serviceWorker.register('/sw.js').then(async serviceWorker => {\n        let subscription = await serviceWorker.pushManager.getSubscription();\n        if (!subscription) {\n          const responsePublicKey = await fetch('http://localhost:3333/push/public_key', {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          });\n          subscription = await serviceWorker.pushManager.subscribe({\n            userVisibleOnly: true,\n            applicationServerKey: responsePublicKey.data.publicKey\n          });\n        }\n        await fetch('http://localhost:3333/push/register', {\n          method: 'POST',\n          body: JSON.stringify(subscription),\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n      });\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: \"Aplicativo React com Notifica\\xE7\\xF5es Push!\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 10\n  }, this);\n};\n_s(App, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","jsxDEV","_jsxDEV","App","_s","navigator","serviceWorker","register","then","subscription","pushManager","getSubscription","responsePublicKey","fetch","method","headers","subscribe","userVisibleOnly","applicationServerKey","data","publicKey","body","JSON","stringify","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/cristian/Dev/Claro/push-client/src/App.js"],"sourcesContent":["import React, { useEffect } from 'react';\n\nconst App = () => {\n  useEffect(() => {\n    if ('serviceWorker' in navigator) {\n\n      navigator.serviceWorker.register('/sw.js')\n\n        .then(async serviceWorker => {\n            let subscription = await serviceWorker.pushManager.getSubscription();\n            if(!subscription) {\n              const responsePublicKey = await fetch('http://localhost:3333/push/public_key', {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json'\n                },\n              });\n              subscription = await serviceWorker.pushManager.subscribe({\n                userVisibleOnly: true,\n                applicationServerKey: responsePublicKey.data.publicKey,\n              })\n            }\n\n            await fetch('http://localhost:3333/push/register', {\n              method: 'POST',\n              body: JSON.stringify(subscription),\n              headers: {\n                'Content-Type': 'application/json'\n              },\n            });\n        });\n\n    }\n  }, []);\n\n  return <div className=\"App\">Aplicativo React com Notificações Push!</div>;\n};\n\nexport default App;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEzC,MAAMC,GAAG,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAChBJ,SAAS,CAAC,MAAM;IACd,IAAI,eAAe,IAAIK,SAAS,EAAE;MAEhCA,SAAS,CAACC,aAAa,CAACC,QAAQ,CAAC,QAAQ,CAAC,CAEvCC,IAAI,CAAC,MAAMF,aAAa,IAAI;QACzB,IAAIG,YAAY,GAAG,MAAMH,aAAa,CAACI,WAAW,CAACC,eAAe,CAAC,CAAC;QACpE,IAAG,CAACF,YAAY,EAAE;UAChB,MAAMG,iBAAiB,GAAG,MAAMC,KAAK,CAAC,uCAAuC,EAAE;YAC7EC,MAAM,EAAE,MAAM;YACdC,OAAO,EAAE;cACP,cAAc,EAAE;YAClB;UACF,CAAC,CAAC;UACFN,YAAY,GAAG,MAAMH,aAAa,CAACI,WAAW,CAACM,SAAS,CAAC;YACvDC,eAAe,EAAE,IAAI;YACrBC,oBAAoB,EAAEN,iBAAiB,CAACO,IAAI,CAACC;UAC/C,CAAC,CAAC;QACJ;QAEA,MAAMP,KAAK,CAAC,qCAAqC,EAAE;UACjDC,MAAM,EAAE,MAAM;UACdO,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACd,YAAY,CAAC;UAClCM,OAAO,EAAE;YACP,cAAc,EAAE;UAClB;QACF,CAAC,CAAC;MACN,CAAC,CAAC;IAEN;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,oBAAOb,OAAA;IAAKsB,SAAS,EAAC,KAAK;IAAAC,QAAA,EAAC;EAAuC;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK,CAAC;AAC3E,CAAC;AAACzB,EAAA,CAlCID,GAAG;AAAA2B,EAAA,GAAH3B,GAAG;AAoCT,eAAeA,GAAG;AAAC,IAAA2B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}